---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
# Load libraries
library(tidyverse)      # data manipulation + plotting
library(broom)          # tidy model output

# Set working directory
setwd("your/working/directory")

#  Load data (generic placeholder)
data <- read.csv("your_dataset.csv")

#  Create binary outcome variable (e.g., churn, failure, conversion)
data$Outcome_Binary <- ifelse(data$Outcome == "Negative", 1,
                              ifelse(data$Outcome == "Positive", 0, NA))

# Clean and select relevant predictor variables
data_clean <- data %>%
  select(Outcome_Binary,
         Metric_A, Metric_B, Metric_C,
         Score_X, Score_Y, Score_Z) %>%  # replace with real variables
  filter(!is.na(Outcome_Binary)) %>%
  na.omit()

# Fit logistic regression model
model <- glm(Outcome_Binary ~ ., data = data_clean, family = binomial)
summary(model)

# Optional: reduced model with hand-picked predictors
model_reduced <- glm(Outcome_Binary ~ Metric_A + Score_X + Score_Z,
                     data = data_clean,
                     family = binomial)
summary(model_reduced)

#  Get odds ratios
exp(coef(model_reduced))

#  Add predicted probabilities to dataset
data_clean$predicted_prob <- predict(model_reduced, type = "response")

# Visualize effect of predictors
# Example: Score_X vs Predicted Probability

ggplot(data_clean, aes(x = Score_X, y = predicted_prob)) +
  geom_point() +
  geom_smooth(method = "glm", method.args = list(family = "binomial")) +
  labs(title = "Predicted Probability of Negative Outcome by Score_X",
       y = "Predicted Probability")

```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
